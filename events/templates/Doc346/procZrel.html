{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Data Table </title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- ========================================================= -->

    <link rel="stylesheet" href={% static "css/bootstrap.min.css" %}>
    <link rel="stylesheet" href={% static "css/datatables.min.css" %}>
    <link rel="stylesheet" href={% static "css/style.css" %}>
    <link rel="stylesheet" href={% static "css/dataTables.dateTime.min.css" %}>

    <style>
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .popup-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
        }

        .popup-close {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
        }
</style>





</head>
<!-- =============== Design & Develop By = MJ MARAZ   ====================== -->

<body>
     {% include 'navbar.html' %}
     <br>
    <!-- =======  Data-Table  = Start  ========================== -->
                <div class="data_table">
                    <table border="0" cellspacing="5" cellpadding="5">
        <tbody><tr>
            <td>Minimum date:</td>
            <td><input type="text" id="min" name="min"></td>
        </tr>
        <tr>
            <td>Maximum date:</td>
            <td><input type="text" id="max" name="max"></td>
        </tr>
    </tbody></table>
                    <table id="example" class="table table-striped table-bordered display nowrap" style="width:100%">
                        <thead class="table-dark">
                            <tr>
                                <th>Nr</th>
                                <th>NrZP</th>
                                <th>Data produkcji</th>
                                <th>Artykuł</th>
                                <th>IlośćZlec</th>
                                <th>SzerWorka</th>
                                <th>SzerRękawa</th>
                                <th>Zakładka</th>
                                <th>DługWorka</th>
                                <th>GrubWorka</th>
                                <th>DolneOdch</th>

                                <th>WagaFoilZlec</th>
                                <th>DługFoilPlan</th>
                                <th>DługFoilPlan korekta</th>
                                <th>IlośćRolekZlec</th>
                                <th>DługRolkiPlan</th>
                                <th>DługRolkiZlec korekta</th>
                                <th>DługFoilZlec korekta</th>
                                <th>WagaRolkiZlec</th>
                                <th>Rodzaj folii</th>

                                <th>NrWytl</th>
                                <th>Procent realizacji</th>
                                <th>Status</th>
                                <th>Uwagi</th>
                                <th>Kod</th>
                                <th>MMK</th>
                                <th>Barwnik</th>
                                <th>Edytuj</th>
                            </tr>
                        </thead>
                        <tbody>
                        {% for post in serialized_data %}
                             <tr>
                                <td>{{ forloop.counter }}</td>
                                <td>{{ post.NrZp  }}</td>
                                <td>{{ post.Data }}</td>
                                <td> {{ post.Artykul }}</td>
                                 <td>{{ post.IloscZlec }}</td>
                                <td> {{ post.SzerWorka }} </td>
                                <td> {{ post.SzerRekawa }} </td>
                                <td> {{ post.Zakladka}} </td>
                                <td> {{ post.DlugWorka}} </td>
                                <td>{{ post.GrubWorka }}</td>
                                <td>{{ post.DolneOdch }}</td>
                                <td>{{ post.WagaFoliZlec}}</td>
                                <td>{{ post.DlugFoliPlan }}</td>
                                <td>{{ post.DlugFoilPlan_Korekta }}</td>
                                <td>{{ post.IloscRolekZlec }}</td>
                                <td>{{ post.DlugRolkiPlan }}</td>
                                 <td>{{ post.DlugRolkiZlec_Korekta }}</td>
                                <td>{{ post.DlugFoliZlec_Korekta }}</td>
                                <td>{{ post.WagaRolkiZlec }}</td>
                                <td>{{ post.Rodzaj }}</td>
                                 <td>{{ post.NrWyt }}</td>
                                <td>{{ realizacja }}</td>
                                <td>{{ post.Status }}</td>
                                <td>{{ post.Uwagi }}</td>
                                 <td>{{ post.Kod }}</td>
                                 <td>{{ post.MMK }}</td>
                                 <td>{{ post.Barwnik }}</td>
                                 <td> <button onclick="showPopup({{  post.NrZp  }})">Change Status</button> </td>
                            </tr>
                        {% endfor %}
                        </tbody>

                    </table>

                <div class="popup">
        <div class="popup-content">
            <h2>Change Status</h2>
            <select id="status-select">
                <option value="0">New</option>
                <option value="1">In Progress</option>
                <option value="2">Completed</option>
                <option value="3">Cancelled</option>
            </select>
            <br><br>
            <button onclick="updateStatus()">Save</button>
            <button onclick="hidePopup()">Cancel</button>
        </div>
    </div>

</div>


    <!-- =======  Data-Table  = End  ===================== -->
    <!-- ============ Java Script Files  ================== -->


    <script src={% static "js/bootstrap.bundle.min.js" %}></script>
    <script src={% static "js/jquery-3.6.0.min.js" %}></script>
    <script src={% static "js/datatables.min.js" %}></script>
    <script src={% static "js/pdfmake.min.js" %}></script>
    <script src={% static "js/vfs_fonts.js" %}></script>
    <script src={% static "js/custom3.js"  %}></script>
    <script src={% static "js/dataTables.dateTime.min.js" %}></script>
    <script src={% static "js/moment.min.js"  %}></script>
</body>

</html>
